import { Map } from 'immutable';

import * as actionTypes from './constants';

const defaultState = Map({
  playList: [
    {
      name: '无泪的遗憾',
      id: 347645,
      pst: 0,
      t: 0,
      ar: [
        {
          id: 11127,
          name: 'Beyond',
          tns: [],
          alias: []
        }
      ],
      alia: ['无线电视剧《笑傲在明天》插曲'],
      pop: 70,
      st: 0,
      rt: '',
      fee: 8,
      v: 34,
      crbt: null,
      cf: '',
      al: {
        id: 34257,
        name: '命运派对',
        picUrl:
          'https://p1.music.126.net/BR_ETn4YsHtvDwIJbwK2KA==/109951165806258437.jpg',
        tns: [],
        pic_str: '109951165806258437',
        pic: 109951165806258430
      },
      dt: 321758,
      h: {
        br: 320000,
        fid: 0,
        size: 12873187,
        vd: -15941,
        sr: 44100
      },
      m: {
        br: 192000,
        fid: 0,
        size: 7723929,
        vd: -13389,
        sr: 44100
      },
      l: {
        br: 128000,
        fid: 0,
        size: 5149301,
        vd: -11685,
        sr: 44100
      },
      sq: {
        br: 1577458,
        fid: 0,
        size: 63445176,
        vd: -15931,
        sr: 44100
      },
      hr: null,
      a: null,
      cd: '1',
      no: 4,
      rtUrl: null,
      ftype: 0,
      rtUrls: [],
      djId: 0,
      copyright: 1,
      s_id: 0,
      mark: 17179877376,
      originCoverType: 0,
      originSongSimpleData: null,
      tagPicList: null,
      resourceState: true,
      version: 34,
      songJumpInfo: null,
      entertainmentTags: null,
      awardTags: null,
      single: 0,
      noCopyrightRcmd: null,
      mv: 5393440,
      mst: 9,
      cp: 7003,
      rtype: 0,
      rurl: null,
      publishTime: 1262275200000
    },
    {
      name: '虚拟',
      id: 421423808,
      pst: 0,
      t: 0,
      ar: [
        {
          id: 1007170,
          name: '陈粒',
          tns: [],
          alias: []
        }
      ],
      alia: [],
      pop: 100,
      st: 0,
      rt: null,
      fee: 8,
      v: 41,
      crbt: null,
      cf: '',
      al: {
        id: 34780579,
        name: '小梦大半',
        picUrl:
          'https://p1.music.126.net/HQxTggMCB7AHUXN-ZFEtmA==/1371091013186741.jpg',
        tns: [],
        pic: 1371091013186741
      },
      dt: 240626,
      h: {
        br: 320000,
        fid: 0,
        size: 9627733,
        vd: -7979,
        sr: 44100
      },
      m: {
        br: 192000,
        fid: 0,
        size: 5776657,
        vd: -5352,
        sr: 44100
      },
      l: {
        br: 128000,
        fid: 0,
        size: 3851119,
        vd: -3597,
        sr: 44100
      },
      sq: {
        br: 765421,
        fid: 0,
        size: 23022596,
        vd: -9752,
        sr: 44100
      },
      hr: null,
      a: null,
      cd: '1',
      no: 9,
      rtUrl: null,
      ftype: 0,
      rtUrls: [],
      djId: 0,
      copyright: 2,
      s_id: 0,
      mark: 17179877376,
      originCoverType: 1,
      originSongSimpleData: null,
      tagPicList: null,
      resourceState: true,
      version: 41,
      songJumpInfo: null,
      entertainmentTags: null,
      awardTags: null,
      single: 0,
      noCopyrightRcmd: null,
      mv: 5368127,
      mst: 9,
      cp: 1416476,
      rtype: 0,
      rurl: null,
      publishTime: 1469462400007
    },
    {
      name: '椿',
      id: 479598964,
      pst: 0,
      t: 0,
      ar: [
        {
          id: 12002248,
          name: '沈以诚',
          tns: [],
          alias: []
        }
      ],
      alia: [],
      pop: 100,
      st: 0,
      rt: null,
      fee: 8,
      v: 108,
      crbt: null,
      cf: '',
      al: {
        id: 35533615,
        name: '椿',
        picUrl:
          'https://p1.music.126.net/CpwIPy2YUWC6ksF88eGNyw==/109951162931819035.jpg',
        tns: [],
        pic_str: '109951162931819035',
        pic: 109951162931819040
      },
      dt: 217640,
      h: null,
      m: {
        br: 192000,
        fid: 0,
        size: 5224951,
        vd: 20685,
        sr: 44100
      },
      l: {
        br: 128000,
        fid: 0,
        size: 3483315,
        vd: 22473,
        sr: 44100
      },
      sq: {
        br: 1275020,
        fid: 0,
        size: 34687046,
        vd: 18037,
        sr: 44100
      },
      hr: null,
      a: null,
      cd: '1',
      no: 1,
      rtUrl: null,
      ftype: 0,
      rtUrls: [],
      djId: 0,
      copyright: 0,
      s_id: 0,
      mark: 17179877440,
      originCoverType: 1,
      originSongSimpleData: null,
      tagPicList: null,
      resourceState: true,
      version: 108,
      songJumpInfo: null,
      entertainmentTags: null,
      awardTags: null,
      single: 0,
      noCopyrightRcmd: null,
      mv: 0,
      rtype: 0,
      rurl: null,
      mst: 9,
      cp: 0,
      publishTime: 1495263051414
    },
    {
      name: '海阔天空',
      id: 346089,
      pst: 0,
      t: 0,
      ar: [
        {
          id: 11127,
          name: 'Beyond',
          tns: [],
          alias: []
        }
      ],
      alia: [],
      pop: 100,
      st: 0,
      rt: '600902000004240302',
      fee: 8,
      v: 52,
      crbt: null,
      cf: '',
      al: {
        id: 34110,
        name: 'Beyond 25th Anniversary',
        picUrl:
          'https://p2.music.126.net/zZtUDuWk6qIe3ezMt4UMjg==/109951165796417308.jpg',
        tns: [],
        pic_str: '109951165796417308',
        pic: 109951165796417310
      },
      dt: 322560,
      h: {
        br: 320000,
        fid: 0,
        size: 12905578,
        vd: -49200,
        sr: 44100
      },
      m: {
        br: 192000,
        fid: 0,
        size: 7743364,
        vd: -46622,
        sr: 44100
      },
      l: {
        br: 128000,
        fid: 0,
        size: 5162257,
        vd: -44981,
        sr: 44100
      },
      sq: {
        br: 870405,
        fid: 0,
        size: 35094811,
        vd: -49193,
        sr: 44100
      },
      hr: null,
      a: null,
      cd: '03',
      no: 6,
      rtUrl: null,
      ftype: 0,
      rtUrls: [],
      djId: 0,
      copyright: 1,
      s_id: 0,
      mark: 17179877376,
      originCoverType: 1,
      originSongSimpleData: null,
      tagPicList: null,
      resourceState: true,
      version: 52,
      songJumpInfo: null,
      entertainmentTags: null,
      awardTags: null,
      single: 0,
      noCopyrightRcmd: null,
      mv: 5501497,
      mst: 9,
      cp: 7002,
      rtype: 0,
      rurl: null,
      publishTime: 1205164800000,
      tns: ['Boundless Oceans, Vast Skies']
    },
    {
      name: '吟游诗人',
      id: 467958357,
      pst: 0,
      t: 0,
      ar: [
        {
          id: 12359437,
          name: '李常超 (Lao乾妈)',
          tns: [],
          alias: []
        }
      ],
      alia: [],
      pop: 90,
      st: 0,
      rt: null,
      fee: 0,
      v: 30,
      crbt: null,
      cf: '',
      al: {
        id: 35311179,
        name: '寻歌启事',
        picUrl:
          'https://p2.music.126.net/418URszFbM3SkgH5RcZTAQ==/109951162884470492.jpg',
        tns: [],
        pic_str: '109951162884470492',
        pic: 109951162884470500
      },
      dt: 213864,
      h: {
        br: 320000,
        fid: 0,
        size: 8556713,
        vd: -44346,
        sr: 44100
      },
      m: {
        br: 192000,
        fid: 0,
        size: 5134045,
        vd: -41728,
        sr: 44100
      },
      l: {
        br: 128000,
        fid: 0,
        size: 3422711,
        vd: -40037,
        sr: 44100
      },
      sq: null,
      hr: null,
      a: null,
      cd: '1',
      no: 3,
      rtUrl: null,
      ftype: 0,
      rtUrls: [],
      djId: 0,
      copyright: 2,
      s_id: 0,
      mark: 64,
      originCoverType: 0,
      originSongSimpleData: null,
      tagPicList: null,
      resourceState: true,
      version: 30,
      songJumpInfo: null,
      entertainmentTags: null,
      awardTags: null,
      single: 0,
      noCopyrightRcmd: null,
      mv: 0,
      mst: 9,
      cp: 0,
      rtype: 0,
      rurl: null,
      publishTime: 1490328602099
    }
  ],
  playSequence: 0, // 0 顺序播放 1 随机播放 2 单曲循环
  currentSongIndex: [],
  currentSong: {
    name: '有何不可',
    id: 167876,
    pst: 0,
    t: 0,
    ar: [
      {
        id: 5771,
        name: '许嵩',
        tns: [],
        alias: []
      }
    ],
    alia: [],
    pop: 100,
    st: 0,
    rt: '600902000007916021',
    fee: 8,
    v: 49,
    crbt: null,
    cf: '',
    al: {
      id: 16953,
      name: '自定义',
      picUrl:
        'https://p2.music.126.net/Md3RLH0fe2a_3dMDnfqoQg==/18590542604286213.jpg',
      tns: [],
      pic_str: '18590542604286213',
      pic: 18590542604286212
    },
    dt: 241840,
    h: {
      br: 320000,
      fid: 0,
      size: 9675799,
      vd: -21099
    },
    m: {
      br: 192000,
      fid: 0,
      size: 5805497,
      vd: -18400
    },
    l: {
      br: 128000,
      fid: 0,
      size: 3870346,
      vd: -16900
    },
    a: null,
    cd: '1',
    no: 3,
    rtUrl: null,
    ftype: 0,
    rtUrls: [],
    djId: 0,
    copyright: 2,
    s_id: 0,
    mark: 8192,
    originCoverType: 0,
    single: 0,
    noCopyrightRcmd: null,
    mv: 0,
    rtype: 0,
    rurl: null,
    mst: 9,
    cp: 14026,
    publishTime: 1231516800000
  },
  currentLyrics: [],
  simiPlaylist: [],
  simiSongs: [],
  currentLyricIndex: -1
})

function reducer(state = defaultState, action) {
  switch (action.type) {
    case actionTypes.CHANGE_CURRENT_SONG:
      return state.set("currentSong", action.song);
    case actionTypes.CHANGE_LYRICS:
      return state.set("currentLyrics", action.lyrics);
    case actionTypes.CHANGE_SIMI_PLAYLIST:
      return state.set("simiPlaylist", action.simiPlaylist);
    case actionTypes.CHANGE_SIMI_SONGS:
      return state.set("simiSongs", action.simiSongs);
    case actionTypes.CHANGE_PLAY_LIST:
      return state.set("playList", action.playList);
    case actionTypes.CHANGE_CURRENT_SONG_INDEX:
      return state.set("currentSongIndex", action.index);
    case actionTypes.CHANGE_CURRENT_LYRIC_INDEX:
      return state.set("currentLyricIndex", action.index);
    case actionTypes.CHANGE_PLAY_SEQUENCE:
      return state.set("playSequence", action.sequence);
    default:
      return state;
  }
}

export default reducer;

{"ast":null,"code":"var _jsxFileName = \"/Users/bytedance/Desktop/\\u683C\\u5F0F\\u5316/hy-react-web-music-master/src/pages/discover/c-pages/recommend/c-cpns/top-banner/index.js\";\nimport React, { memo, useEffect, useCallback, useState, useRef } from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\nimport { getBanner } from '../../store/actionCreators';\nimport { Carousel } from 'antd';\nimport { BannerWrapper, BannerLeft, BannerRight, BannerControl } from './style';\nexport default memo(function HYTopBanner() {\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const dispatch = useDispatch();\n  const state = useSelector(state => ({\n    banners: state.getIn([\"recommend\", \"topBanners\"])\n  }), shallowEqual);\n  const bannerRef = useRef();\n  useEffect(() => {\n    dispatch(getBanner());\n  }, [dispatch]);\n  const bannerChange = useCallback((from, to) => {\n    setTimeout(() => {\n      setCurrentIndex(from);\n    }, 0);\n  }, []);\n  const bgImage = state.banners[currentIndex] && state.banners[currentIndex].imageUrl + \"?imageView&blur=40x20\";\n  return /*#__PURE__*/React.createElement(BannerWrapper, {\n    bgImage: bgImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"banner wrap-v2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(BannerLeft, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Carousel, {\n    autoplay: true,\n    effect: \"fade\",\n    beforeChange: bannerChange,\n    ref: bannerRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, state.banners.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"banner-item\",\n      key: item.imageUrl,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"image\",\n      src: item.imageUrl,\n      alt: item.typeTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }\n    }));\n  }))), /*#__PURE__*/React.createElement(BannerRight, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(BannerControl, {\n    className: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn left\",\n    onClick: e => bannerRef.current.prev(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn right\",\n    onClick: e => bannerRef.current.next(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }))));\n});","map":{"version":3,"sources":["/Users/bytedance/Desktop/格式化/hy-react-web-music-master/src/pages/discover/c-pages/recommend/c-cpns/top-banner/index.js"],"names":["React","memo","useEffect","useCallback","useState","useRef","useDispatch","useSelector","shallowEqual","getBanner","Carousel","BannerWrapper","BannerLeft","BannerRight","BannerControl","HYTopBanner","currentIndex","setCurrentIndex","dispatch","state","banners","getIn","bannerRef","bannerChange","from","to","setTimeout","bgImage","imageUrl","map","item","index","typeTitle","e","current","prev","next"],"mappings":"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","sourcesContent":["import React, { memo, useEffect, useCallback, useState, useRef } from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\n\nimport {\n  getBanner\n} from '../../store/actionCreators';\n\nimport { Carousel } from 'antd';\nimport {\n  BannerWrapper,\n  BannerLeft,\n  BannerRight,\n  BannerControl\n} from './style';\n\nexport default memo(function HYTopBanner() {\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  const dispatch = useDispatch();\n  const state = useSelector(state => ({\n    banners: state.getIn([\"recommend\", \"topBanners\"])\n  }), shallowEqual)\n\n  const bannerRef = useRef();\n  useEffect(() => {\n    dispatch(getBanner());\n  }, [dispatch]);\n\n  const bannerChange = useCallback((from, to) => {\n    setTimeout(() => {\n      setCurrentIndex(from);\n    }, 0);\n  }, []);\n\n  const bgImage = state.banners[currentIndex] && (state.banners[currentIndex].imageUrl + \"?imageView&blur=40x20\")\n\n  return (\n    <BannerWrapper bgImage={bgImage}>\n      <div className=\"banner wrap-v2\">\n        <BannerLeft>\n          <Carousel autoplay effect=\"fade\" beforeChange={bannerChange} ref={bannerRef}>\n            {\n              state.banners.map((item, index) => {\n                return (\n                  <div className=\"banner-item\" key={item.imageUrl}>\n                    <img className=\"image\" src={item.imageUrl} alt={item.typeTitle} />\n                  </div>\n                )\n              })\n            }\n          </Carousel>\n        </BannerLeft>\n        <BannerRight>\n        </BannerRight>\n        <BannerControl className=\"control\">\n          <button className=\"btn left\" onClick={e => bannerRef.current.prev()}></button>\n          <button className=\"btn right\" onClick={e => bannerRef.current.next()}></button>\n        </BannerControl>\n      </div>\n    </BannerWrapper>\n  )\n})\n"]},"metadata":{},"sourceType":"module"}
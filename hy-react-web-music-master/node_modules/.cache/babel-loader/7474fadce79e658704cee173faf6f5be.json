{"ast":null,"code":"var _jsxFileName = \"/Users/bytedance/Desktop/\\u683C\\u5F0F\\u5316/hy-react-web-music-master/src/pages/discover/c-pages/ranking/c-cpns/top-ranking/index.js\";\nimport React, { useEffect, memo } from 'react';\nimport classNames from \"classnames\";\nimport { useSelector, useDispatch, shallowEqual } from \"react-redux\";\nimport { getSizeImage } from \"@/utils/format-utils\";\nimport { changeCurrentIndex, getRanking } from \"../../store/actionCreators\";\nimport { TopRankingWrapper } from \"./style\";\nexport default memo(function HYTopRanking() {\n  // redux\n  const state = useSelector(state => ({\n    topList: state.getIn([\"ranking\", \"topList\"]),\n    currentIndex: state.getIn([\"ranking\", \"currentIndex\"])\n  }), shallowEqual);\n  const currentIndex = state.currentIndex;\n  const dispatch = useDispatch(); // hooks\n\n  useEffect(() => {\n    const id = state.topList[currentIndex] && state.topList[currentIndex].id;\n    if (!id) return;\n    dispatch(getRanking(id));\n  }, [state, dispatch, currentIndex]); // handle function\n\n  const hanldeItemClick = index => {\n    dispatch(changeCurrentIndex(index));\n    const id = state.topList[currentIndex].id;\n    dispatch(getRanking(id));\n  };\n\n  return /*#__PURE__*/React.createElement(TopRankingWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, state.topList.map((item, index) => {\n    let header;\n\n    if (index === 0 || index === 4) {\n      header = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 22\n        }\n      }, index === 0 ? \"云音乐特色榜\" : \"全球媒体榜\");\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, header, /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(\"item\", {\n        \"active\": index === currentIndex\n      }),\n      onClick: e => hanldeItemClick(index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: getSizeImage(item.coverImgUrl, 40),\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 19\n      }\n    }, item.name), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"update\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 19\n      }\n    }, item.updateFrequency))));\n  }));\n});","map":{"version":3,"sources":["/Users/bytedance/Desktop/格式化/hy-react-web-music-master/src/pages/discover/c-pages/ranking/c-cpns/top-ranking/index.js"],"names":["React","useEffect","memo","classNames","useSelector","useDispatch","shallowEqual","getSizeImage","changeCurrentIndex","getRanking","TopRankingWrapper","HYTopRanking","state","topList","getIn","currentIndex","dispatch","id","hanldeItemClick","index","map","item","header","e","coverImgUrl","name","updateFrequency"],"mappings":"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","sourcesContent":["import React, { useEffect, memo } from 'react';\nimport classNames from \"classnames\";\nimport { useSelector, useDispatch, shallowEqual } from \"react-redux\";\n\nimport { getSizeImage } from \"@/utils/format-utils\";\nimport {\n  changeCurrentIndex,\n  getRanking\n} from \"../../store/actionCreators\"\n\nimport {\n  TopRankingWrapper\n} from \"./style\";\n\nexport default memo(function HYTopRanking() {\n  // redux\n  const state = useSelector(state => ({\n    topList: state.getIn([\"ranking\", \"topList\"]),\n    currentIndex: state.getIn([\"ranking\", \"currentIndex\"])\n  }), shallowEqual);\n  const currentIndex = state.currentIndex;\n  const dispatch = useDispatch();\n\n  // hooks\n  useEffect(() => {\n    const id = (state.topList[currentIndex] && state.topList[currentIndex].id);\n    if (!id) return;\n    dispatch(getRanking(id))\n  }, [state, dispatch, currentIndex])\n\n  // handle function\n  const hanldeItemClick = (index) => {\n    dispatch(changeCurrentIndex(index));\n    const id = state.topList[currentIndex].id;\n    dispatch(getRanking(id))\n  }\n\n  return (\n    <TopRankingWrapper>\n      {\n        state.topList.map((item, index) => {\n          let header;\n          if (index === 0 || index === 4) {\n            header = <div className=\"header\">{index === 0 ? \"云音乐特色榜\" : \"全球媒体榜\"}</div>\n          }\n          return (\n            <div key={item.id}>\n              {header}\n              <div className={classNames(\"item\", { \"active\": index === currentIndex })}\n                onClick={e => hanldeItemClick(index)}>\n                <img src={getSizeImage(item.coverImgUrl, 40)} alt=\"\" />\n                <div className=\"info\">\n                  <div className=\"name\">{item.name}</div>\n                  <div className=\"update\">{item.updateFrequency}</div>\n                </div>\n              </div>\n            </div>\n          )\n        })\n      }\n    </TopRankingWrapper>\n  )\n})\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import * as actionTypes from './constants';\nimport { PER_PAGE_NUMBER } from './constants';\nimport { getSongCategory, getSongCategoryList } from \"@/services/songs\";\nimport { handleSongsCategory } from \"@/utils/handle-data\";\n\nconst changeCategoryAction = res => ({\n  type: actionTypes.CHANGE_CATEGORY,\n  category: res\n});\n\nconst changeSongListAction = res => ({\n  type: actionTypes.CHANGE_CATEGORY_SONGS,\n  categorySongs: res\n});\n\nexport const changeCurrentCategoryAction = name => ({\n  type: actionTypes.CHANGE_CURRENT_CATEGORY,\n  currentCategory: name\n});\nexport const getCategory = () => {\n  return dispatch => {\n    getSongCategory().then(res => {\n      const categoryData = handleSongsCategory(res);\n      dispatch(changeCategoryAction(categoryData));\n    });\n  };\n};\nexport const getSongList = page => {\n  return (dispatch, getState) => {\n    // 1.获取currentCategory\n    const name = getState().getIn([\"songs\", \"currentCategory\"]); // 2.获取数据\n\n    getSongCategoryList(name, page * PER_PAGE_NUMBER).then(res => {\n      dispatch(changeSongListAction(res));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/bytedance/Desktop/格式化/hy-react-web-music-master/src/pages/discover/c-pages/songs/store/actionCreators.js"],"names":["actionTypes","PER_PAGE_NUMBER","getSongCategory","getSongCategoryList","handleSongsCategory","changeCategoryAction","res","type","CHANGE_CATEGORY","category","changeSongListAction","CHANGE_CATEGORY_SONGS","categorySongs","changeCurrentCategoryAction","name","CHANGE_CURRENT_CATEGORY","currentCategory","getCategory","dispatch","then","categoryData","getSongList","page","getState","getIn"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,aAA7B;AACA,SAASC,eAAT,QAAgC,aAAhC;AAEA,SACEC,eADF,EAEEC,mBAFF,QAGO,kBAHP;AAIA,SACEC,mBADF,QAEO,qBAFP;;AAIA,MAAMC,oBAAoB,GAAIC,GAAD,KAAU;AACrCC,EAAAA,IAAI,EAAEP,WAAW,CAACQ,eADmB;AAErCC,EAAAA,QAAQ,EAAEH;AAF2B,CAAV,CAA7B;;AAKA,MAAMI,oBAAoB,GAAIJ,GAAD,KAAU;AACrCC,EAAAA,IAAI,EAAEP,WAAW,CAACW,qBADmB;AAErCC,EAAAA,aAAa,EAAEN;AAFsB,CAAV,CAA7B;;AAKA,OAAO,MAAMO,2BAA2B,GAAIC,IAAD,KAAW;AACpDP,EAAAA,IAAI,EAAEP,WAAW,CAACe,uBADkC;AAEpDC,EAAAA,eAAe,EAAEF;AAFmC,CAAX,CAApC;AAKP,OAAO,MAAMG,WAAW,GAAG,MAAM;AAC/B,SAAOC,QAAQ,IAAI;AACjBhB,IAAAA,eAAe,GAAGiB,IAAlB,CAAuBb,GAAG,IAAI;AAC5B,YAAMc,YAAY,GAAGhB,mBAAmB,CAACE,GAAD,CAAxC;AACAY,MAAAA,QAAQ,CAACb,oBAAoB,CAACe,YAAD,CAArB,CAAR;AACD,KAHD;AAID,GALD;AAMD,CAPM;AASP,OAAO,MAAMC,WAAW,GAAIC,IAAD,IAAU;AACnC,SAAO,CAACJ,QAAD,EAAWK,QAAX,KAAwB;AAC7B;AACA,UAAMT,IAAI,GAAGS,QAAQ,GAAGC,KAAX,CAAiB,CAAC,OAAD,EAAU,iBAAV,CAAjB,CAAb,CAF6B,CAI7B;;AACArB,IAAAA,mBAAmB,CAACW,IAAD,EAAOQ,IAAI,GAAGrB,eAAd,CAAnB,CAAkDkB,IAAlD,CAAuDb,GAAG,IAAI;AAC5DY,MAAAA,QAAQ,CAACR,oBAAoB,CAACJ,GAAD,CAArB,CAAR;AACD,KAFD;AAGD,GARD;AASD,CAVM","sourcesContent":["import * as actionTypes from './constants';\nimport { PER_PAGE_NUMBER } from './constants';\n\nimport {\n  getSongCategory,\n  getSongCategoryList\n} from \"@/services/songs\";\nimport { \n  handleSongsCategory\n} from \"@/utils/handle-data\";\n\nconst changeCategoryAction = (res) => ({\n  type: actionTypes.CHANGE_CATEGORY,\n  category: res\n})\n\nconst changeSongListAction = (res) => ({\n  type: actionTypes.CHANGE_CATEGORY_SONGS,\n  categorySongs: res\n})\n\nexport const changeCurrentCategoryAction = (name) => ({\n  type: actionTypes.CHANGE_CURRENT_CATEGORY,\n  currentCategory: name\n})\n\nexport const getCategory = () => {\n  return dispatch => {\n    getSongCategory().then(res => {\n      const categoryData = handleSongsCategory(res);\n      dispatch(changeCategoryAction(categoryData))\n    })\n  }\n}\n\nexport const getSongList = (page) => {\n  return (dispatch, getState) => {\n    // 1.获取currentCategory\n    const name = getState().getIn([\"songs\", \"currentCategory\"]);\n\n    // 2.获取数据\n    getSongCategoryList(name, page * PER_PAGE_NUMBER).then(res => {\n      dispatch(changeSongListAction(res));\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}